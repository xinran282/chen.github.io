<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="screen1234screen -X -S 20153 quit  ## 退出screen -ls               ## 查看在运行的screen -r Id|name        ## 跳到指定界面screen -D                ## 踢掉正在查看的用户  rsyncwin版本 centos7安装配置rsync以及遇到问题 RSYNC常见问题及解决办法 1234">
<meta property="og:type" content="article">
<meta property="og:title" content="linux常用指令">
<meta property="og:url" content="http://example.com/2022/04/13/linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/index.html">
<meta property="og:site_name" content="欣然的备忘录">
<meta property="og:description" content="screen1234screen -X -S 20153 quit  ## 退出screen -ls               ## 查看在运行的screen -r Id|name        ## 跳到指定界面screen -D                ## 踢掉正在查看的用户  rsyncwin版本 centos7安装配置rsync以及遇到问题 RSYNC常见问题及解决办法 1234">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-04-13T08:21:05.000Z">
<meta property="article:modified_time" content="2022-04-13T08:22:45.557Z">
<meta property="article:author" content="欣然">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2022/04/13/linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>linux常用指令 | 欣然的备忘录</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">欣然的备忘录</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/13/linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="欣然">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="欣然的备忘录">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          linux常用指令
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-13 16:21:05 / 修改时间：16:22:45" itemprop="dateCreated datePublished" datetime="2022-04-13T16:21:05+08:00">2022-04-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">screen -X -S 20153 quit  <span class="comment">## 退出</span></span><br><span class="line">screen -<span class="built_in">ls</span>               <span class="comment">## 查看在运行的</span></span><br><span class="line">screen -r Id|name        <span class="comment">## 跳到指定界面</span></span><br><span class="line">screen -D                <span class="comment">## 踢掉正在查看的用户</span></span><br></pre></td></tr></table></figure>

<h3 id="rsync"><a href="#rsync" class="headerlink" title="rsync"></a>rsync</h3><p><a target="_blank" rel="noopener" href="https://www.itefix.net/cwrsync">win版本</a> <br><br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/692451">centos7安装配置rsync以及遇到问题</a> <br><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/reve-wang/p/7216582.html">RSYNC常见问题及解决办法</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">## linux服务端 /etc/rsyncd.conf配置</span><br><span class="line">uid=root</span><br><span class="line">gid=root</span><br><span class="line">use chroot = no</span><br><span class="line">max connections = 4</span><br><span class="line">strict modes =no</span><br><span class="line">port = 873</span><br><span class="line">address = 192.168.1.111</span><br><span class="line">log file=/var/log/rsync.log</span><br><span class="line"></span><br><span class="line">[admin_web]</span><br><span class="line">path = /data/admin/web/dist</span><br><span class="line">comment = admin web</span><br><span class="line">ignore errors</span><br><span class="line">read only = no</span><br><span class="line">list = no</span><br><span class="line">auth user=test</span><br><span class="line">secrets file = /etc/rsync.pas</span><br><span class="line">transfer logging = yes</span><br><span class="line">pid file = /var/run/rsyncd.pid</span><br><span class="line">lock file = /var/run/rsync.lock</span><br><span class="line">hosts allow = 192.168.1.0/255.255.255.0</span><br><span class="line">hosts deny = *</span><br><span class="line"></span><br><span class="line">UID = 0</span><br><span class="line">GID = 0</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/rsync.pas 文件内容</span><br><span class="line">test:rsync      ## 用户:密码</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rsync --daemon  <span class="comment">## 启动后台服务</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不用后台的同步方式</span></span><br><span class="line">rsync -avz --progress -e <span class="string">&quot;ssh -i ~/.shh/id_rsa.pub&quot;</span> /data/code/ebin/ root@121.37.19.201:/data/ebin_rsync</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rem window同步示例</span><br><span class="line">rsync -avz --port=873 --chmod=777 --delete --password-file=d:/passwd dist/ 192.168.1.111::admin_web/</span><br></pre></td></tr></table></figure>


<table>
<thead>
<tr>
<th>命令参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>–progress</td>
<td>显示传输过程</td>
</tr>
<tr>
<td>-avz</td>
<td>z:压缩 v:显示传输文件名 a:归档模式(= -rlptgoD)</td>
</tr>
<tr>
<td>-exclude=”文件/目录”</td>
<td>排除指定文件或目录</td>
</tr>
</tbody></table>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -ctime -1  ## 查找1天内被修改过的文件</span><br><span class="line">find / -cmin -60  ## 查找60分钟内被修改过的文件</span><br></pre></td></tr></table></figure>

<h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-grep.html">grep</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep -参数 &quot;内容&quot; 待搜索的内容或文件   </span><br><span class="line">-n 显示行号</span><br></pre></td></tr></table></figure>
<h3 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed -i s/Search/Replace/g File  ## 替换该文件所有匹配到的为所要替换的</span><br><span class="line">## 实例</span><br><span class="line">sed -i s/&quot;case &#x27;Mac&#x27;&quot;/&quot;case &#x27;Mac&#x27;,&#x27;Linux&#x27;&quot;/g ../../../Build/SubPackages/Modules/*/hxscript/Compile.hx</span><br></pre></td></tr></table></figure>

<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><p>client 没有密钥时可用下面指令生成 <br><br>密钥要放在 ~/.ssh 下面，且名字未id_rsa.pub、id_rsa <br><br>因为ssh登陆其他机器是，会默认按这个名字去取私钥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t [rsa|dsa] -C <span class="string">&quot;comments&quot;</span></span><br><span class="line"><span class="comment"># -t 可选择RSA 和 DSA 两种密钥</span></span><br><span class="line"><span class="comment"># -C 可选注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 登陆指定机器示例</span></span><br><span class="line">ssh -p 22 192.168.1.111</span><br></pre></td></tr></table></figure>

<h3 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## 查看监听的端口</span><br><span class="line">netstat -nltp</span><br><span class="line">## 查看所有的tcp连接</span><br><span class="line">netstat -t</span><br></pre></td></tr></table></figure>


<h3 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/liang2580/articles/8400140.html">https://www.cnblogs.com/liang2580/articles/8400140.html</a></p>
<ul>
<li>表（tables）<ul>
<li>filter 负责过滤功能，防火墙；内核模块：iptables_filter</li>
<li>raw 关闭nat表上启用的连接追踪机制；iptable_raw</li>
<li>nat network address translation，网络地址转换功能；内核模块：iptable_nat</li>
<li>mangle 拆解报文，做出修改，并重新封装 的功能；iptable_mangle</li>
</ul>
</li>
<li>链（chains）<ul>
<li>PREROUTING  路由前</li>
<li>INPUT     进入     </li>
<li>FORWARD       转发  </li>
<li>OUTPUT    出去</li>
<li>POSTROUTING 路由后</li>
</ul>
</li>
<li>规则（policy）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">## 启动、重启、停止服务</span><br><span class="line">/etc/init.d/iptables start | restart | stop</span><br><span class="line">service iptable save | start | restart</span><br><span class="line">## 查看规则</span><br><span class="line">Iptables –L –n</span><br><span class="line">## 开放端口</span><br><span class="line">iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 23 -j ACCEPT</span><br><span class="line">## 禁止端口</span><br><span class="line">iptables -A INPUT -p tcp --dport 22 -j DROP</span><br></pre></td></tr></table></figure>



<h3 id="xarges"><a href="#xarges" class="headerlink" title="xarges"></a>xarges</h3><p><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-xargs.html">xargs</a> 可以将管道或标准输入（stdin）数据转换成命令行参数，也能够从文件的输出中读取数据。</p>
<p>xargs 也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行。</p>
<p>xargs 默认的命令是 echo，这意味着通过管道传递给 xargs 的输入将会包含换行和空白，不过通过 xargs 的处理，换行和空白将被空格取代。</p>
<p>xargs 是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 多行变当行输出</span></span><br><span class="line"><span class="built_in">cat</span> test.txt | xargs</span><br><span class="line">a b c d e f g h i j k l m n o p q r s t u v w x y z</span><br><span class="line"></span><br><span class="line"><span class="comment">## -n 选项多行输出：</span></span><br><span class="line"><span class="built_in">cat</span> test.txt | xargs -n3</span><br><span class="line">a b c</span><br><span class="line">d e f</span><br><span class="line">g h i</span><br></pre></td></tr></table></figure>


<h3 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">## 显示正在运行的任务</span><br><span class="line">crontab -l</span><br><span class="line"></span><br><span class="line">## 重启</span><br><span class="line">service crond restart</span><br><span class="line"></span><br><span class="line">## 查看状态</span><br><span class="line">service crond status</span><br><span class="line"></span><br><span class="line">crontab任务配置基本格式：</span><br><span class="line">*   *　 *　 *　 *　　command</span><br><span class="line">分钟(0-59)　小时(0-23)　日期(1-31)　月份(1-12)　星期(0-6,0代表星期天)　 命令</span><br><span class="line">第1列表示分钟1～59 每分钟用*或者 */1表示</span><br><span class="line">第2列表示小时1～23（0表示0点）</span><br><span class="line">第3列表示日期1～31</span><br><span class="line">第4列表示月份1～12</span><br><span class="line">第5列标识号星期0～6（0表示星期天）</span><br><span class="line">第6列要运行的命令</span><br></pre></td></tr></table></figure>

<ul>
<li>在以上任何值中，星号（*）可以用来代表所有有效的值。譬如，月份值中的星号意味着在满足其它制约条件后每月都执行该命令。</li>
<li>整数间的短线（-）指定一个整数范围。譬如，1-4 意味着整数 1、2、3、4。</li>
<li>用逗号（,）隔开的一系列值指定一个列表。譬如，3, 4, 6, 8 标明这四个指定的整数。</li>
<li>正斜线（/）可以用来指定间隔频率。在范围后加上 /<integer> 意味着在范围内可以跳过 integer。譬如，0-59/2 可以用来在分钟字段定义每两分钟。间隔频率值还可以和星号一起使用。例如，*/3 的值可以用在月份字段中表示每三个月运行一次任务。<br>开头为井号（#）的行是注释，不会被处理。 </li>
</ul>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 检索已安装的程序</span></span><br><span class="line">rpm -qa |grep erlang</span><br><span class="line"><span class="comment">## 查看软件包的安装路径</span></span><br><span class="line">rpm -ql 软件包名</span><br><span class="line"><span class="comment">## 安装</span></span><br><span class="line">rpm -ivh esl-erlang_21.1-1_centos_6_amd64.rpm --force --nodeps</span><br></pre></td></tr></table></figure>



<h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## 查询数据库存在否</span><br><span class="line">SELECT SCHEMA_NAME FROM information_schema.SCHEMATA WHERE SCHEMA_NAME = &#x27;c_local_1&#x27;</span><br><span class="line">## 查看表结构</span><br><span class="line">desc 表名</span><br><span class="line">## 查看创建表的语句</span><br><span class="line">show create table 表名</span><br></pre></td></tr></table></figure>

<h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Enter 向下n行，需要定义。默认为1行</span><br><span class="line">Ctrl+F 向下滚动一屏</span><br><span class="line">空格键 向下滚动一屏</span><br><span class="line">Ctrl+B 返回上一屏</span><br><span class="line">= 输出当前行的行号</span><br><span class="line">：f 输出文件名和当前行的行号</span><br><span class="line">V 调用vi编辑器</span><br><span class="line">!命令 调用Shell，并执行命令</span><br><span class="line">q 退出more</span><br></pre></td></tr></table></figure>

<h3 id="ansible"><a href="#ansible" class="headerlink" title="ansible"></a><a target="_blank" rel="noopener" href="http://www.ansible.com.cn/">ansible</a></h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/keerya/p/7987886.html#_label4_2">命令详解</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## 测试是否连通</span><br><span class="line">ansible 服务器组名 -m ping</span><br><span class="line">## 在指定服务器上执行shell命令</span><br><span class="line">ansible SrvName -m shell -a &quot;command string&quot;</span><br></pre></td></tr></table></figure>

<h3 id="svn-git"><a href="#svn-git" class="headerlink" title="svn git"></a>svn git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 递归恢复</span></span><br><span class="line">svn  revert -R 目录</span><br><span class="line"><span class="comment">## 查看最新5条日志</span></span><br><span class="line">svn <span class="built_in">log</span> -l 5 -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化一个git仓库</span></span><br><span class="line">git init --bare runoob.git</span><br><span class="line"><span class="comment"># 在已有文件夹中关联一个git仓库</span></span><br><span class="line">git init </span><br><span class="line">git remote add origin 地址</span><br><span class="line"><span class="comment"># 下载指定版本(分支)</span></span><br><span class="line">git <span class="built_in">clone</span> -b 分支名称 地址</span><br></pre></td></tr></table></figure>

<h3 id="gcc"><a href="#gcc" class="headerlink" title="gcc"></a>gcc</h3><ul>
<li>-fPIC与-fpic都是在编译时加入的选项，用于生成位置无关的代码(Position-Independent-Code)。这两个选项都是可以使代码在加载到内存时使用相对地址，所有对固定地址的访问都通过全局偏移表(GOT)来实现。-fPIC和-fpic最大的区别在于是否对GOT的大小有限制。-fPIC对GOT表大小无限制，所以如果在不确定的情况下，使用-fPIC是更好的选择。</li>
<li>-fPIE与-fpie是等价的。这个选项与-fPIC/-fpic大致相同，不同点在于：-fPIC用于生成动态库，-fPIE用与生成可执行文件。再说得直白一点：-fPIE用来生成位置无关的可执行代码。</li>
<li>-w 关闭编译时的警告</li>
<li>-Wall 显示所有警告</li>
</ul>
<h3 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h3><h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 查看系统版本</span><br><span class="line">cat /etc/redhat-release </span><br><span class="line"># 统计当前目录各个项所占磁盘大小</span><br><span class="line"> du -sh *</span><br><span class="line"> # 统计错误日志模块函数出现的频率</span><br><span class="line"> grep &#x27;[E]&#x27; error_log.*|awk -F\( &#x27;&#123;a[$1]+=1&#125; END &#123;for (i in a) print a[i],i&#125;&#x27;|sort -rn</span><br></pre></td></tr></table></figure>



<h4 id="性能调优"><a href="#性能调优" class="headerlink" title="性能调优"></a>性能调优</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##### 查看内存前10的进程</span></span><br><span class="line">ps aux|<span class="built_in">head</span> -1;ps aux|grep -v PID|<span class="built_in">sort</span> -rn -k +4|<span class="built_in">head</span></span><br><span class="line"><span class="comment">##### 清缓存</span></span><br><span class="line"><span class="built_in">echo</span> 3 &gt; /proc/sys/vm/drop_caches</span><br></pre></td></tr></table></figure>



    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/13/erlang%20trace%E4%BA%86%E8%A7%A3/" rel="prev" title="erlang trace 了解">
      <i class="fa fa-chevron-left"></i> erlang trace 了解
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/14/erlang%E6%B1%87%E6%80%BB/" rel="next" title="erlang汇总">
      erlang汇总 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#screen"><span class="nav-number">1.</span> <span class="nav-text">screen</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rsync"><span class="nav-number">2.</span> <span class="nav-text">rsync</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#find"><span class="nav-number">3.</span> <span class="nav-text">find</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grep"><span class="nav-number">4.</span> <span class="nav-text">grep</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sed"><span class="nav-number">5.</span> <span class="nav-text">sed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ssh"><span class="nav-number">6.</span> <span class="nav-text">ssh</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#netstat"><span class="nav-number">7.</span> <span class="nav-text">netstat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iptables"><span class="nav-number">8.</span> <span class="nav-text">iptables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xarges"><span class="nav-number">9.</span> <span class="nav-text">xarges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#crontab"><span class="nav-number">10.</span> <span class="nav-text">crontab</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">11.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysql"><span class="nav-number">12.</span> <span class="nav-text">mysql</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#more"><span class="nav-number">13.</span> <span class="nav-text">more</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ansible"><span class="nav-number">14.</span> <span class="nav-text">ansible</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#svn-git"><span class="nav-number">15.</span> <span class="nav-text">svn git</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gcc"><span class="nav-number">16.</span> <span class="nav-text">gcc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-number">17.</span> <span class="nav-text">常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2"><span class="nav-number">17.1.</span> <span class="nav-text">查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98"><span class="nav-number">17.2.</span> <span class="nav-text">性能调优</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="欣然"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">欣然</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">欣然</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
